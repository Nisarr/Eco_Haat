module.exports=[31481,a=>{"use strict";var b=a.i(87924);function c({children:a,variant:c="default",size:d="md",className:e=""}){return(0,b.jsx)("span",{className:`
      inline-flex items-center font-medium rounded-full
      ${{default:"bg-gray-100 text-gray-700",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",eco:"bg-gradient-to-r from-primary-100 to-primary-200 text-primary-800 border border-primary-300"}[c]} ${{sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-sm"}[d]} ${e}
    `,children:a})}function d({status:a}){let d={pending:{variant:"warning",icon:"â³",label:"Pending"},approved:{variant:"success",icon:"âœ…",label:"Approved"},rejected:{variant:"danger",icon:"âŒ",label:"Rejected"}}[a];return(0,b.jsxs)(c,{variant:d.variant,children:[(0,b.jsx)("span",{className:"mr-1",children:d.icon}),d.label]})}function e({score:a}){return(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:`flex items-center gap-1 ${a>=80?"text-green-600":a>=60?"text-lime-600":a>=40?"text-yellow-600":"text-orange-600"}`,children:[(0,b.jsx)("span",{children:a>=80?"ðŸŒ¿":a>=60?"ðŸŒ±":a>=40?"ðŸƒ":"ðŸŒ¾"}),(0,b.jsxs)("span",{className:"font-bold text-lg",children:[a,"%"]})]}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:"Eco Score"})]})}a.s(["Badge",()=>c,"EcoRating",()=>e,"StatusBadge",()=>d])},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},6866,a=>{"use strict";var b=a.i(87924),c=a.i(46271);function d({children:a,className:d="",hover:e=!1,glass:f=!1}){return(0,b.jsx)(c.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`rounded-2xl overflow-hidden ${e?"card-hover cursor-pointer":""} ${f?"glass":"bg-white border border-gray-100 shadow-sm"} ${d}`,children:a})}function e({children:a,className:c=""}){return(0,b.jsx)("div",{className:`px-6 py-4 border-b border-gray-100 ${c}`,children:a})}function f({children:a,className:c=""}){return(0,b.jsx)("div",{className:`p-6 ${c}`,children:a})}a.s(["Card",()=>d,"CardContent",()=>f,"CardHeader",()=>e])},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},70047,a=>{"use strict";let b=(0,a.i(70106).default)("leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);a.s(["Leaf",()=>b],70047)},77156,a=>{"use strict";let b=(0,a.i(70106).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},63506,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(46271),f=a.i(62036),g=a.i(210);let h=(0,a.i(70106).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var i=a.i(33508),j=a.i(77156),k=a.i(70047),l=a.i(96221),m=a.i(92588),n=a.i(6866),o=a.i(80961),p=a.i(31481);function q(){let[a,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)("pending"),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(85),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(!1),D=(0,m.createClient)();(0,c.useEffect)(()=>{E()},[t]);let E=async()=>{s(!0);try{let a=D.from("products").select("*, profiles(full_name, email)").order("created_at",{ascending:!1});"all"!==t&&(a=a.eq("status",t));let{data:b}=await a;b&&q(b)}catch(a){console.error("Error fetching products:",a)}finally{s(!1)}},F=async()=>{if(v){C(!0);try{await D.from("products").update({status:"approved",eco_rating:x}).eq("id",v.id),q(a=>a.map(a=>a.id===v.id?{...a,status:"approved",eco_rating:x}:a)),w(null),y(85)}catch(a){console.error("Error approving product:",a)}finally{C(!1)}}},G=async()=>{if(v){C(!0);try{await D.from("products").update({status:"rejected",rejection_reason:z}).eq("id",v.id),q(a=>a.map(a=>a.id===v.id?{...a,status:"rejected"}:a)),w(null),A("")}catch(a){console.error("Error rejecting product:",a)}finally{C(!1)}}};return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 pt-24",children:[(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)(d.default,{href:"/admin",className:"inline-flex items-center gap-2 text-gray-600 hover:text-primary-600 mb-2",children:[(0,b.jsx)(g.ArrowLeft,{size:20}),"Back to Dashboard"]}),(0,b.jsx)("h1",{className:"text-3xl font-display font-bold text-gray-900",children:"Product Moderation"})]})}),(0,b.jsx)("div",{className:"flex gap-2 mb-6",children:["pending","approved","rejected","all"].map(a=>(0,b.jsx)("button",{onClick:()=>u(a),className:`px-4 py-2 rounded-xl font-medium capitalize transition-colors ${t===a?"bg-primary-500 text-white":"bg-white text-gray-600 hover:bg-gray-100"}`,children:a},a))}),r?(0,b.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((a,c)=>(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-4 animate-pulse",children:[(0,b.jsx)("div",{className:"aspect-video bg-gray-200 rounded-xl mb-4"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,b.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]},c))}):0===a.length?(0,b.jsxs)("div",{className:"text-center py-20",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ“¦"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No products found"}),(0,b.jsxs)("p",{className:"text-gray-500",children:["No ","all"===t?"":t," products to display"]})]}):(0,b.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(a=>(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,b.jsxs)(n.Card,{hover:!0,children:[(0,b.jsxs)("div",{className:"aspect-video bg-gray-100 relative overflow-hidden rounded-t-2xl",children:[a.images?.[0]?(0,b.jsx)("img",{src:a.images[0],alt:a.name,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-4xl",children:"ðŸŒ¿"}),(0,b.jsx)("div",{className:"absolute top-3 right-3",children:(0,b.jsx)(p.StatusBadge,{status:a.status})})]}),(0,b.jsxs)(n.CardContent,{children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 mb-2",children:["by ",a.profiles?.full_name," â€¢ à§³",a.price]}),(0,b.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2 mb-4",children:a.description}),"pending"===a.status?(0,b.jsxs)(o.Button,{className:"w-full",onClick:()=>w(a),children:[(0,b.jsx)(j.Eye,{size:18,className:"mr-2"}),"Review Product"]}):a.eco_rating?(0,b.jsxs)("div",{className:"flex items-center gap-2 text-primary-600",children:[(0,b.jsx)(k.Leaf,{size:18}),(0,b.jsxs)("span",{className:"font-medium",children:["Eco Score: ",a.eco_rating,"%"]})]}):null]})]})},a.id))})]}),(0,b.jsx)(f.AnimatePresence,{children:v&&(0,b.jsx)(e.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>w(null),children:(0,b.jsxs)(e.motion.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("div",{className:"p-6 border-b",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("div",{className:"w-32 h-32 bg-gray-100 rounded-xl overflow-hidden flex-shrink-0",children:v.images?.[0]?(0,b.jsx)("img",{src:v.images[0],alt:v.name,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-4xl",children:"ðŸŒ¿"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:v.name}),(0,b.jsxs)("p",{className:"text-gray-500 mt-1",children:["by ",v.profiles?.full_name]}),(0,b.jsxs)("div",{className:"flex gap-4 mt-2 text-sm",children:[(0,b.jsxs)("span",{className:"text-primary-600 font-medium",children:["à§³",v.price]}),(0,b.jsx)("span",{className:"text-gray-400",children:"â€¢"}),(0,b.jsx)("span",{className:"text-gray-600",children:v.material})]}),(0,b.jsx)("p",{className:"text-gray-600 text-sm mt-3 line-clamp-3",children:v.description})]})]})}),(0,b.jsxs)("div",{className:"p-6 border-b",children:[(0,b.jsxs)("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,b.jsx)(k.Leaf,{className:"text-primary-500",size:20}),"Assign Eco-Friendliness Rating"]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("input",{type:"range",min:"0",max:"100",value:x,onChange:a=>y(Number(a.target.value)),className:"flex-1 h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary-500"}),(0,b.jsx)("div",{className:"w-20 text-center",children:(0,b.jsxs)("span",{className:"text-2xl font-bold text-primary-600",children:[x,"%"]})})]}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mt-2",children:[(0,b.jsx)("span",{children:"Low"}),(0,b.jsx)("span",{children:"High"})]})]}),(0,b.jsxs)("div",{className:"p-6 border-b",children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"Rejection Reason (if rejecting)"}),(0,b.jsx)("textarea",{value:z,onChange:a=>A(a.target.value),placeholder:"Explain why this product is being rejected...",className:"w-full p-3 border border-gray-200 rounded-xl focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none",rows:3})]}),(0,b.jsxs)("div",{className:"p-6 flex gap-4",children:[(0,b.jsx)(o.Button,{variant:"secondary",className:"flex-1",onClick:()=>w(null),children:"Cancel"}),(0,b.jsxs)(o.Button,{variant:"danger",className:"flex-1",onClick:G,disabled:B,children:[B?(0,b.jsx)(l.Loader2,{className:"animate-spin"}):(0,b.jsx)(i.X,{size:18}),(0,b.jsx)("span",{className:"ml-2",children:"Reject"})]}),(0,b.jsxs)(o.Button,{className:"flex-1",onClick:F,disabled:B,children:[B?(0,b.jsx)(l.Loader2,{className:"animate-spin"}):(0,b.jsx)(h,{size:18}),(0,b.jsx)("span",{className:"ml-2",children:"Approve"})]})]})]})})})]})}a.s(["default",()=>q],63506)}];

//# sourceMappingURL=_698eb0f1._.js.map