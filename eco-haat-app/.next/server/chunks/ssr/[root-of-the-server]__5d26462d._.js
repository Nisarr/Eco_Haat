module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},31481,a=>{"use strict";var b=a.i(87924);function c({children:a,variant:c="default",size:d="md",className:e=""}){return(0,b.jsx)("span",{className:`
      inline-flex items-center font-medium rounded-full
      ${{default:"bg-gray-100 text-gray-700",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",eco:"bg-gradient-to-r from-primary-100 to-primary-200 text-primary-800 border border-primary-300"}[c]} ${{sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-sm"}[d]} ${e}
    `,children:a})}function d({status:a}){let d={pending:{variant:"warning",icon:"â³",label:"Pending"},approved:{variant:"success",icon:"âœ…",label:"Approved"},rejected:{variant:"danger",icon:"âŒ",label:"Rejected"}}[a];return(0,b.jsxs)(c,{variant:d.variant,children:[(0,b.jsx)("span",{className:"mr-1",children:d.icon}),d.label]})}function e({score:a}){return(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:`flex items-center gap-1 ${a>=80?"text-green-600":a>=60?"text-lime-600":a>=40?"text-yellow-600":"text-orange-600"}`,children:[(0,b.jsx)("span",{children:a>=80?"ðŸŒ¿":a>=60?"ðŸŒ±":a>=40?"ðŸƒ":"ðŸŒ¾"}),(0,b.jsxs)("span",{className:"font-bold text-lg",children:[a,"%"]})]}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:"Eco Score"})]})}a.s(["Badge",()=>c,"EcoRating",()=>e,"StatusBadge",()=>d])},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},70047,a=>{"use strict";let b=(0,a.i(70106).default)("leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);a.s(["Leaf",()=>b],70047)},23025,a=>{"use strict";let b=(0,a.i(70106).default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);a.s(["Minus",()=>b],23025)},33584,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(46271),g=a.i(210),h=a.i(38784),i=a.i(70106);let j=(0,i.default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]),k=(0,i.default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),l=(0,i.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var m=a.i(70047),n=a.i(23025),o=a.i(15618),p=a.i(92588),q=a.i(80961),r=a.i(31481);function s(){let a=(0,d.useParams)(),i=(0,d.useRouter)(),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(!0),[w,x]=(0,c.useState)(1),[y,z]=(0,c.useState)(0),[A,B]=(0,c.useState)(!1),C=(0,p.createClient)();(0,c.useEffect)(()=>{let b=async()=>{let{data:b,error:c}=await C.from("products").select("*, profiles(full_name, email), categories(name)").eq("id",a.id).eq("status","approved").single();b&&t(b),v(!1)};a.id&&b()},[a.id,C]);let D=async()=>{B(!0);let{data:{user:b}}=await C.auth.getUser();if(!b)return void i.push(`/login?redirect=/products/${a.id}`);try{let{data:a}=await C.from("cart_items").select("*").eq("buyer_id",b.id).eq("product_id",s?.id).single();a?await C.from("cart_items").update({quantity:a.quantity+w}).eq("id",a.id):await C.from("cart_items").insert({buyer_id:b.id,product_id:s?.id,quantity:w}),alert("Added to cart!")}catch(a){console.error("Error adding to cart:",a),alert("Failed to add to cart")}finally{B(!1)}};return u?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 pt-24",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12",children:[(0,b.jsx)("div",{className:"aspect-square bg-gray-200 rounded-3xl animate-pulse"}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"h-8 bg-gray-200 rounded w-3/4 animate-pulse"}),(0,b.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/2 animate-pulse"}),(0,b.jsx)("div",{className:"h-24 bg-gray-200 rounded animate-pulse"})]})]})})}):s?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 pt-24",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)(e.default,{href:"/products",className:"inline-flex items-center gap-2 text-gray-600 hover:text-primary-600 mb-8 group",children:[(0,b.jsx)(g.ArrowLeft,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back to Products"]}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12",children:[(0,b.jsxs)(f.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[(0,b.jsx)("div",{className:"aspect-square bg-white rounded-3xl overflow-hidden border border-gray-100 mb-4",children:s.images?.[y]?(0,b.jsx)("img",{src:s.images[y],alt:s.name,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-9xl",children:"ðŸŒ¿"})}),s.images&&s.images.length>1&&(0,b.jsx)("div",{className:"flex gap-3",children:s.images.map((a,c)=>(0,b.jsx)("button",{onClick:()=>z(c),className:`w-20 h-20 rounded-xl overflow-hidden border-2 transition-all ${y===c?"border-primary-500":"border-gray-200"}`,children:(0,b.jsx)("img",{src:a,alt:"",className:"w-full h-full object-cover"})},c))})]}),(0,b.jsxs)(f.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsx)(r.Badge,{variant:"eco",children:s.material}),s.categories?.name&&(0,b.jsx)(r.Badge,{children:s.categories.name})]}),(0,b.jsx)("h1",{className:"text-3xl md:text-4xl font-display font-bold text-gray-900",children:s.name}),(0,b.jsxs)("p",{className:"text-gray-600",children:["Sold by ",(0,b.jsx)("span",{className:"font-medium text-primary-600",children:s.profiles?.full_name||"Eco Seller"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between py-4 border-y border-gray-200",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-3xl font-bold text-primary-600",children:["à§³",s.price]}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:"Price includes eco packaging"})]}),s.eco_rating&&(0,b.jsx)("div",{className:"text-right",children:(0,b.jsx)(r.EcoRating,{score:s.eco_rating})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),(0,b.jsx)("p",{className:"text-gray-600 leading-relaxed",children:s.description})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center border border-gray-200 rounded-xl",children:[(0,b.jsx)("button",{onClick:()=>x(Math.max(1,w-1)),className:"p-3 text-gray-500 hover:text-gray-700",children:(0,b.jsx)(n.Minus,{size:20})}),(0,b.jsx)("span",{className:"px-4 py-2 font-medium text-lg",children:w}),(0,b.jsx)("button",{onClick:()=>x(w+1),className:"p-3 text-gray-500 hover:text-gray-700",children:(0,b.jsx)(o.Plus,{size:20})})]}),(0,b.jsxs)(q.Button,{size:"lg",className:"flex-1",onClick:D,isLoading:A,children:[(0,b.jsx)(h.ShoppingCart,{size:20,className:"mr-2"}),"Add to Cart"]}),(0,b.jsx)("button",{className:"p-3 rounded-xl border border-gray-200 hover:border-red-300 hover:bg-red-50 transition-colors",children:(0,b.jsx)(j,{size:24,className:"text-gray-400 hover:text-red-500"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 pt-6",children:[(0,b.jsxs)("div",{className:"text-center p-4 bg-primary-50 rounded-xl",children:[(0,b.jsx)(m.Leaf,{className:"mx-auto text-primary-600 mb-2",size:24}),(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"100% Eco"}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"Verified"})]}),(0,b.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[(0,b.jsx)(k,{className:"mx-auto text-blue-600 mb-2",size:24}),(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Free Shipping"}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"Over à§³500"})]}),(0,b.jsxs)("div",{className:"text-center p-4 bg-amber-50 rounded-xl",children:[(0,b.jsx)(l,{className:"mx-auto text-amber-600 mb-2",size:24}),(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Quality"}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"Guaranteed"})]})]})]})]})]})}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 pt-24 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ðŸŒ¿"}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Product Not Found"}),(0,b.jsx)("p",{className:"text-gray-500 mb-6",children:"This product may have been removed or doesn't exist"}),(0,b.jsx)(e.default,{href:"/products",children:(0,b.jsx)(q.Button,{children:"Browse Products"})})]})})}a.s(["default",()=>s],33584)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5d26462d._.js.map