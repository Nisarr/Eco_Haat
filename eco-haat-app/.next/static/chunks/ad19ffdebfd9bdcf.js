(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,s,r)=>{s.exports=e.r(76562)},31278,e=>{"use strict";let s=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],31278)},72520,e=>{"use strict";let s=(0,e.i(75254).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>s],72520)},63488,70756,e=>{"use strict";var s=e.i(75254);let r=(0,s.default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>r],63488);let a=(0,s.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>a],70756)},83899,e=>{"use strict";var s=e.i(43476),r=e.i(71645),a=e.i(22016),t=e.i(18566),l=e.i(46932),i=e.i(63488),n=e.i(70756),c=e.i(72520),d=e.i(31278),o=e.i(6045),u=e.i(3802);function x(){let[e,l]=(0,r.useState)(""),[x,m]=(0,r.useState)(""),[h,g]=(0,r.useState)(""),[p,f]=(0,r.useState)(!1),y=(0,t.useRouter)(),j=(0,t.useSearchParams)().get("redirect")||"/",b=(0,o.createClient)(),N=async s=>{s.preventDefault(),f(!0),g("");try{let{data:s,error:r}=await b.auth.signInWithPassword({email:e,password:x});if(r)return void g(r.message);if(s.user){let{data:e}=await b.from("profiles").select("role").eq("id",s.user.id).single();e?.role==="admin"?y.push("/admin"):e?.role==="seller"?y.push("/seller"):y.push(j)}}catch(e){g("An unexpected error occurred")}finally{f(!1)}};return(0,s.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsxs)(a.default,{href:"/",className:"inline-flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-4xl",children:"ðŸŒ¿"}),(0,s.jsx)("span",{className:"text-2xl font-bold text-green-800",children:"Eco Haat"})]}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mt-4",children:"Welcome Back!"}),(0,s.jsx)("p",{className:"text-gray-500 mt-1",children:"Sign in to your eco-friendly account"})]}),h&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm",children:h}),(0,s.jsxs)("form",{onSubmit:N,className:"space-y-5",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(i.Mail,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,s.jsx)("input",{type:"email",placeholder:"Email address",value:e,onChange:e=>l(e.target.value),required:!0,className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-200 focus:border-green-500 focus:ring-2 focus:ring-green-100 outline-none transition-all"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(n.Lock,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,s.jsx)("input",{type:"password",placeholder:"Password",value:x,onChange:e=>m(e.target.value),required:!0,className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-200 focus:border-green-500 focus:ring-2 focus:ring-green-100 outline-none transition-all"})]}),(0,s.jsx)(u.Button,{type:"submit",className:"w-full",size:"lg",disabled:p,children:p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Loader2,{className:"animate-spin mr-2",size:20}),"Signing in..."]}):(0,s.jsxs)(s.Fragment,{children:["Sign In",(0,s.jsx)(c.ArrowRight,{className:"ml-2",size:20})]})})]}),(0,s.jsxs)("div",{className:"my-8 flex items-center gap-4",children:[(0,s.jsx)("div",{className:"flex-1 h-px bg-gray-200"}),(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"or"}),(0,s.jsx)("div",{className:"flex-1 h-px bg-gray-200"})]}),(0,s.jsxs)("p",{className:"text-center text-gray-600",children:["Don't have an account?"," ",(0,s.jsx)(a.default,{href:"/register",className:"text-green-600 font-medium hover:underline",children:"Sign up for free"})]})]})}function m(){return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-white flex items-center justify-center p-4",children:(0,s.jsx)(l.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:(0,s.jsx)(r.Suspense,{fallback:(0,s.jsx)("div",{className:"text-center py-8",children:"Loading..."}),children:(0,s.jsx)(x,{})})})})}e.s(["default",()=>m])}]);