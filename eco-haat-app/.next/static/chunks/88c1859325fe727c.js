(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,a,s)=>{a.exports=e.r(76562)},71689,e=>{"use strict";let a=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>a],71689)},75529,e=>{"use strict";var a=e.i(43476);function s({children:e,variant:s="default",size:t="md",className:r=""}){return(0,a.jsx)("span",{className:`
      inline-flex items-center font-medium rounded-full
      ${{default:"bg-gray-100 text-gray-700",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",eco:"bg-gradient-to-r from-primary-100 to-primary-200 text-primary-800 border border-primary-300"}[s]} ${{sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-sm"}[t]} ${r}
    `,children:e})}function t({status:e}){let t={pending:{variant:"warning",icon:"â³",label:"Pending"},approved:{variant:"success",icon:"âœ…",label:"Approved"},rejected:{variant:"danger",icon:"âŒ",label:"Rejected"}}[e];return(0,a.jsxs)(s,{variant:t.variant,children:[(0,a.jsx)("span",{className:"mr-1",children:t.icon}),t.label]})}function r({score:e}){return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:`flex items-center gap-1 ${e>=80?"text-green-600":e>=60?"text-lime-600":e>=40?"text-yellow-600":"text-orange-600"}`,children:[(0,a.jsx)("span",{children:e>=80?"ðŸŒ¿":e>=60?"ðŸŒ±":e>=40?"ðŸƒ":"ðŸŒ¾"}),(0,a.jsxs)("span",{className:"font-bold text-lg",children:[e,"%"]})]}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Eco Score"})]})}e.s(["Badge",()=>s,"EcoRating",()=>r,"StatusBadge",()=>t])},7233,e=>{"use strict";let a=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>a],7233)},31674,e=>{"use strict";let a=(0,e.i(75254).default)("leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);e.s(["Leaf",()=>a],31674)},99023,e=>{"use strict";let a=(0,e.i(75254).default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);e.s(["Minus",()=>a],99023)},20884,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(18566),r=e.i(22016),i=e.i(46932),l=e.i(71689),d=e.i(1928),c=e.i(75254);let n=(0,c.default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]),x=(0,c.default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),o=(0,c.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var m=e.i(31674),u=e.i(99023),g=e.i(7233),h=e.i(6045),p=e.i(3802),y=e.i(75529);function j(){let e=(0,t.useParams)(),c=(0,t.useRouter)(),[j,f]=(0,s.useState)(null),[v,b]=(0,s.useState)(!0),[N,w]=(0,s.useState)(1),[k,M]=(0,s.useState)(0),[q,C]=(0,s.useState)(!1),S=(0,h.createClient)();(0,s.useEffect)(()=>{let a=async()=>{let{data:a,error:s}=await S.from("products").select("*, profiles(full_name, email), categories(name)").eq("id",e.id).eq("status","approved").single();a&&f(a),b(!1)};e.id&&a()},[e.id,S]);let z=async()=>{C(!0);let{data:{user:a}}=await S.auth.getUser();if(!a)return void c.push(`/login?redirect=/products/${e.id}`);try{let{data:e}=await S.from("cart_items").select("*").eq("buyer_id",a.id).eq("product_id",j?.id).single();e?await S.from("cart_items").update({quantity:e.quantity+N}).eq("id",e.id):await S.from("cart_items").insert({buyer_id:a.id,product_id:j?.id,quantity:N}),alert("Added to cart!")}catch(e){console.error("Error adding to cart:",e),alert("Failed to add to cart")}finally{C(!1)}};return v?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 pt-24",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12",children:[(0,a.jsx)("div",{className:"aspect-square bg-gray-200 rounded-3xl animate-pulse"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-3/4 animate-pulse"}),(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/2 animate-pulse"}),(0,a.jsx)("div",{className:"h-24 bg-gray-200 rounded animate-pulse"})]})]})})}):j?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 pt-24",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)(r.default,{href:"/products",className:"inline-flex items-center gap-2 text-gray-600 hover:text-primary-600 mb-8 group",children:[(0,a.jsx)(l.ArrowLeft,{size:20,className:"group-hover:-translate-x-1 transition-transform"}),"Back to Products"]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12",children:[(0,a.jsxs)(i.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[(0,a.jsx)("div",{className:"aspect-square bg-white rounded-3xl overflow-hidden border border-gray-100 mb-4",children:j.images?.[k]?(0,a.jsx)("img",{src:j.images[k],alt:j.name,className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-9xl",children:"ðŸŒ¿"})}),j.images&&j.images.length>1&&(0,a.jsx)("div",{className:"flex gap-3",children:j.images.map((e,s)=>(0,a.jsx)("button",{onClick:()=>M(s),className:`w-20 h-20 rounded-xl overflow-hidden border-2 transition-all ${k===s?"border-primary-500":"border-gray-200"}`,children:(0,a.jsx)("img",{src:e,alt:"",className:"w-full h-full object-cover"})},s))})]}),(0,a.jsxs)(i.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)(y.Badge,{variant:"eco",children:j.material}),j.categories?.name&&(0,a.jsx)(y.Badge,{children:j.categories.name})]}),(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-display font-bold text-gray-900",children:j.name}),(0,a.jsxs)("p",{className:"text-gray-600",children:["Sold by ",(0,a.jsx)("span",{className:"font-medium text-primary-600",children:j.profiles?.full_name||"Eco Seller"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-4 border-y border-gray-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-3xl font-bold text-primary-600",children:["à§³",j.price]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Price includes eco packaging"})]}),j.eco_rating&&(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)(y.EcoRating,{score:j.eco_rating})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),(0,a.jsx)("p",{className:"text-gray-600 leading-relaxed",children:j.description})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center border border-gray-200 rounded-xl",children:[(0,a.jsx)("button",{onClick:()=>w(Math.max(1,N-1)),className:"p-3 text-gray-500 hover:text-gray-700",children:(0,a.jsx)(u.Minus,{size:20})}),(0,a.jsx)("span",{className:"px-4 py-2 font-medium text-lg",children:N}),(0,a.jsx)("button",{onClick:()=>w(N+1),className:"p-3 text-gray-500 hover:text-gray-700",children:(0,a.jsx)(g.Plus,{size:20})})]}),(0,a.jsxs)(p.Button,{size:"lg",className:"flex-1",onClick:z,isLoading:q,children:[(0,a.jsx)(d.ShoppingCart,{size:20,className:"mr-2"}),"Add to Cart"]}),(0,a.jsx)("button",{className:"p-3 rounded-xl border border-gray-200 hover:border-red-300 hover:bg-red-50 transition-colors",children:(0,a.jsx)(n,{size:24,className:"text-gray-400 hover:text-red-500"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 pt-6",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-primary-50 rounded-xl",children:[(0,a.jsx)(m.Leaf,{className:"mx-auto text-primary-600 mb-2",size:24}),(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"100% Eco"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Verified"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[(0,a.jsx)(x,{className:"mx-auto text-blue-600 mb-2",size:24}),(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Free Shipping"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Over à§³500"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-amber-50 rounded-xl",children:[(0,a.jsx)(o,{className:"mx-auto text-amber-600 mb-2",size:24}),(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Quality"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Guaranteed"})]})]})]})]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 pt-24 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"ðŸŒ¿"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Product Not Found"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:"This product may have been removed or doesn't exist"}),(0,a.jsx)(r.default,{href:"/products",children:(0,a.jsx)(p.Button,{children:"Browse Products"})})]})})}e.s(["default",()=>j],20884)}]);