(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,r,a)=>{r.exports=e.r(76562)},31278,e=>{"use strict";let r=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>r],31278)},5036,e=>{"use strict";var r=e.i(43476),a=e.i(46932);function t({children:e,className:t="",hover:i=!1,glass:s=!1}){return(0,r.jsx)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`rounded-2xl overflow-hidden ${i?"card-hover cursor-pointer":""} ${s?"glass":"bg-white border border-gray-100 shadow-sm"} ${t}`,children:e})}function i({children:e,className:a=""}){return(0,r.jsx)("div",{className:`px-6 py-4 border-b border-gray-100 ${a}`,children:e})}function s({children:e,className:a=""}){return(0,r.jsx)("div",{className:`p-6 ${a}`,children:e})}e.s(["Card",()=>t,"CardContent",()=>s,"CardHeader",()=>i])},71689,e=>{"use strict";let r=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>r],71689)},84388,e=>{"use strict";var r=e.i(43476),a=e.i(71645),t=e.i(22016),i=e.i(18566),s=e.i(46932),l=e.i(71689),d=e.i(31278),o=e.i(37727);let n=(0,e.i(75254).default)("image-plus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);var c=e.i(6045),m=e.i(3802);let u=(0,a.forwardRef)(({className:e="",label:a,error:t,helperText:i,id:s,...l},d)=>{let o=s||a?.toLowerCase().replace(/\s+/g,"-");return(0,r.jsxs)("div",{className:"w-full",children:[a&&(0,r.jsx)("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700 mb-1.5",children:a}),(0,r.jsx)("input",{ref:d,id:o,className:`
            w-full px-4 py-3 rounded-xl border border-gray-200
            bg-white text-gray-900 placeholder-gray-400
            transition-all duration-200
            focus:border-primary-500 focus:ring-2 focus:ring-primary-100 focus:outline-none
            disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed
            ${t?"border-red-500 focus:border-red-500 focus:ring-red-100":""}
            ${e}
          `,...l}),t&&(0,r.jsx)("p",{className:"mt-1.5 text-sm text-red-600",children:t}),i&&!t&&(0,r.jsx)("p",{className:"mt-1.5 text-sm text-gray-500",children:i})]})});u.displayName="Input";var p=e.i(5036);let x=["Paper","Bamboo","Clay","Jute","Cotton","Wood","Recycled Materials","Other"],y=[{id:1,name:"Paper Products"},{id:2,name:"Bamboo Products"},{id:3,name:"Clay & Pottery"},{id:4,name:"Jute & Natural Fiber"},{id:5,name:"Organic Textiles"},{id:6,name:"Wooden Crafts"},{id:7,name:"Biodegradable Packaging"},{id:8,name:"Natural Cosmetics"},{id:9,name:"Recycled Products"},{id:10,name:"Plant-Based Items"}];function g(){let[e,g]=(0,a.useState)({name:"",description:"",price:"",material:"",category_id:"",stock_quantity:"10"}),[h,b]=(0,a.useState)([]),[f,j]=(0,a.useState)(""),[v,N]=(0,a.useState)(!1),[w,C]=(0,a.useState)(""),k=(0,i.useRouter)(),P=(0,c.createClient)(),S=async r=>{r.preventDefault(),N(!0),C("");try{let{data:{user:r}}=await P.auth.getUser();if(!r)return void k.push("/login");if(!e.name||!e.price||!e.material){C("Please fill in all required fields"),N(!1);return}let{error:a}=await P.from("products").insert({seller_id:r.id,name:e.name,description:e.description,price:parseFloat(e.price),material:e.material,category_id:e.category_id?parseInt(e.category_id):null,stock_quantity:parseInt(e.stock_quantity)||10,images:h,status:"pending"});if(a)return void C(a.message);k.push("/seller/products")}catch(e){C("Failed to add product. Please try again.")}finally{N(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 pt-24",children:(0,r.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)(t.default,{href:"/seller",className:"inline-flex items-center gap-2 text-gray-600 hover:text-primary-600 mb-6",children:[(0,r.jsx)(l.ArrowLeft,{size:20}),"Back to Dashboard"]}),(0,r.jsx)(s.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,r.jsxs)(p.Card,{children:[(0,r.jsxs)(p.CardHeader,{children:[(0,r.jsx)("h1",{className:"text-2xl font-display font-bold text-gray-900",children:"Add New Product"}),(0,r.jsx)("p",{className:"text-gray-500 mt-1",children:"List your eco-friendly product for approval"})]}),(0,r.jsxs)(p.CardContent,{children:[w&&(0,r.jsx)(s.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm",children:w}),(0,r.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[(0,r.jsx)(u,{label:"Product Name *",placeholder:"e.g. Bamboo Toothbrush Set",value:e.name,onChange:r=>g({...e,name:r.target.value}),required:!0}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Description"}),(0,r.jsx)("textarea",{placeholder:"Describe your eco-friendly product...",value:e.description,onChange:r=>g({...e,description:r.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none resize-none",rows:4})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(u,{label:"Price (à§³) *",type:"number",placeholder:"299",min:"1",value:e.price,onChange:r=>g({...e,price:r.target.value}),required:!0}),(0,r.jsx)(u,{label:"Stock Quantity",type:"number",placeholder:"10",min:"1",value:e.stock_quantity,onChange:r=>g({...e,stock_quantity:r.target.value})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Material Type *"}),(0,r.jsxs)("select",{value:e.material,onChange:r=>g({...e,material:r.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select material..."}),x.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Category"}),(0,r.jsxs)("select",{value:e.category_id,onChange:r=>g({...e,category_id:r.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none",children:[(0,r.jsx)("option",{value:"",children:"Select category..."}),y.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Product Images (up to 4)"}),h.length>0&&(0,r.jsx)("div",{className:"grid grid-cols-4 gap-3 mb-4",children:h.map((e,a)=>(0,r.jsxs)("div",{className:"relative aspect-square bg-gray-100 rounded-xl overflow-hidden",children:[(0,r.jsx)("img",{src:e,alt:"",className:"w-full h-full object-cover"}),(0,r.jsx)("button",{type:"button",onClick:()=>{b(h.filter((e,r)=>r!==a))},className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full",children:(0,r.jsx)(o.X,{size:14})})]},a))}),h.length<4&&(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("input",{type:"url",placeholder:"Paste image URL...",value:f,onChange:e=>j(e.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none"})}),(0,r.jsx)(m.Button,{type:"button",variant:"secondary",onClick:()=>{f.trim()&&h.length<4&&(b([...h,f.trim()]),j(""))},disabled:!f.trim(),children:(0,r.jsx)(n,{size:20})})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Add image URLs from the web. Your product will be reviewed by our team before approval."})]}),(0,r.jsxs)("div",{className:"p-4 bg-primary-50 rounded-xl border border-primary-200",children:[(0,r.jsx)("h4",{className:"font-medium text-primary-800 mb-1",children:"ðŸŒ¿ Eco-Friendly Products Only"}),(0,r.jsx)("p",{className:"text-sm text-primary-600",children:"Please ensure your product is made from sustainable materials and is eco-friendly. Our admin team will review and assign an eco-rating before approval."})]}),(0,r.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,r.jsx)(t.default,{href:"/seller",className:"flex-1",children:(0,r.jsx)(m.Button,{type:"button",variant:"secondary",className:"w-full",children:"Cancel"})}),(0,r.jsx)(m.Button,{type:"submit",className:"flex-1",disabled:v,children:v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Loader2,{className:"animate-spin mr-2",size:20}),"Submitting..."]}):"Submit for Review"})]})]})]})]})})]})})}e.s(["default",()=>g],84388)}]);